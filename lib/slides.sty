\usepackage{amsfonts}
\usepackage{graphicx}
\usepackage{times}
\usepackage{tikz}
\usepackage[absolute,overlay]{textpos}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Resolutions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ------------------------------------------------------------------------------
% 4:3 (default)
% ------------------------------------------------------------------------------
% 960x720 - 25.400x19.050
% ------------------------------------------------------------------------------
% wordSize			=\fontsize{16}{19},
% titleSize			=\fontsize{32}{36},
% subtitleSize		=\fontsize{24}{28},
% authorSize		=\fontsize{20}{24},
% instituteSize		=\fontsize{22}{26},
% ------------------------------------------------------------------------------
% 16:9
% ------------------------------------------------------------------------------
% 1920x1080 - 50.800x28.575
% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
% 16:10
% ------------------------------------------------------------------------------
% 2560x1600 - 67.733x42.333
% ------------------------------------------------------------------------------
% 3072x1920 - 81.280x50.800
% ------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Options
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% page width
\newcommand{\pageWidth}{25.400}
\DeclareOptionBeamer{pWidth}{\renewcommand\pageWidth{#1}}
% page height
\newcommand{\pageHeight}{19.050}
\DeclareOptionBeamer{pHeight}{\renewcommand\pageHeight{#1}}

\ProcessOptionsBeamer

% paper size
\geometry{%
	paperwidth=\pageWidth cm,
	paperheight=\pageHeight cm
}
% title page background
\newcommand{\pathToBackground}{}
\DeclareOptionBeamer{backgroundPic}{\renewcommand\pathToBackground{#1}}
%opacity=1
\newcommand{\titlepageOpacity}{1}
\DeclareOptionBeamer{backgroundOpacity}{\renewcommand\titlepageOpacity{#1}}

% default background
\definecolor{slideOrange}{RGB}{204, 89, 17}
\definecolor{slideGreen}{RGB}{156, 154, 0}
\definecolor{slideBlue}{RGB}{69, 126, 129}
\newcommand{\beamer@Slide@color}{slideBlue}
\DeclareOptionBeamer{bgColor}{\renewcommand\beamer@Slide@color{#1}}
% default titleheight
\newdimen\beamer@Slide@titleheight
\beamer@Slide@titleheight=0.04\paperheight
\DeclareOptionBeamer{titleHeight}{\beamer@Slide@titleheight=#1}
% default left margin
\newdimen\beamer@Slide@Margin@Left
\beamer@Slide@Margin@Left=0.05\paperwidth
\DeclareOptionBeamer{marginLeft}{\beamer@Slide@Margin@Left=#1}
% default right margin
\newdimen\beamer@Slide@Margin@Right
\beamer@Slide@Margin@Right=0.05\paperwidth
\DeclareOptionBeamer{marginRight}{\beamer@Slide@Margin@Right=#1}

\ProcessOptionsBeamer

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Slide Margins
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setbeamersize{%
	text margin left=\beamer@Slide@Margin@Left,
	text margin right=\beamer@Slide@Margin@Right
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% DIY Images
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pgfdeclareimage[height=0.10\paperheight]{institution}{assets/img/institution}
\pgfdeclareimage[height=0.10\paperheight]{big-logo}{assets/img/logo}
\pgfdeclareimage[height=0.05\paperheight]{little-logo}{assets/img/logo}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% DIY Commands
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% fonts sizes
% ------------------------------------------------------------------------------
% word size
\newcommand{\wordSize}{\fontsize{16}{19}}
% title size
\newcommand{\titleSize}{\fontsize{32}{36}}
% subtitle size
\newcommand{\subtitleSize}{\fontsize{24}{28}}
% author size
\newcommand{\authorSize}{\fontsize{20}{24}}
% institute size
\newcommand{\instituteSize}{\fontsize{22}{26}}
% frametitle size
\newcommand{\frametitleSize}{\fontsize{23}{26}}
% ------------------------------------------------------------------------------
\newcommand\crule[3][\beamer@Slide@color]{\textcolor{#1}{\rule{#2}{#3}}}
\newcommand{\setSlideTitleMargin}[1]{\beamer@Slide@titleheight=#1}
\newcommand{\testcolor}[1]{\colorbox{#1}{\textcolor{#1}{test}} \texttt{#1}}
\newcommand{\hrefcol}[3][cyan]{\textcolor{#1}{\href{#3}{#2}}}
% Frame with background color
\newcommand{\framecard}[2][slideBlue]{%
	{%
		\setbeamertemplate{background}{%
			\empty
		}
		\setbeamercolor{background canvas}{bg=#1}
		\begin{frame}[plain]
			{#2}
		\end{frame}
	}
}
% Frame with background image~
\newcommand{\framepic}[3][1]{%
	{%
		\setbeamertemplate{background}{%
			%\tikz[overlay,remember picture]%
			\begin{tikzpicture}[overlay,remember picture]
			\node[opacity=#1, at=(current page.center)]{%
				\includegraphics[height=\paperheight]{#2}
			};
			\end{tikzpicture}
		}
		\begin{frame}[plain]
			{#3}
		\end{frame}
	}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Beginning Settings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\AtBeginDocument{\wordSize\selectfont}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Slide Fonts
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setbeamerfont{title}{series=\bfseries,size=\titleSize}%
\setbeamerfont{subtitle}{size=\subtitleSize}
\setbeamerfont{author}{size=\authorSize}
\setbeamerfont{institute}{size=\instituteSize}
\setbeamerfont{frametitle}{family=\sffamily,series=\bfseries,size=\frametitleSize}
\setbeamerfont{footline}{size=\large}
\setbeamerfont{caption}{size=\Large}
\setbeamerfont{alerted text}{series=\bfseries}
\setbeamerfont{itemize item}{family=\sffamily,size={\wordSize}}
\setbeamerfont{itemize subitem}{family=\sffamily,size={\wordSize}}
\setbeamerfont{itemize subsubitem}{family=\sffamily,size={\wordSize}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Slide Colors
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setbeamercolor{alerted text}{fg=\beamer@Slide@color!80!black}
\setbeamercolor{title}{fg=black}
\setbeamercolor{normal text}{fg=black}

%\newlength\barheight
%\setlength\barheight{\paperheight}
%\divide\barheight by 12

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Slide Templates
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{itemize item}{\color{\beamer@Slide@color}$\bullet$}
\setbeamertemplate{itemize subitem}{\color{\beamer@Slide@color}$\circ$}
\setbeamertemplate{itemize subsubitem}{\color{\beamer@Slide@color}$\circ$}
\setbeamertemplate{itemize/enumerate body begin}{\wordSize\selectfont}
\setbeamertemplate{itemize/enumerate subbody begin}{\wordSize\selectfont}

\setbeamertemplate{title page}{%
	\if\pathToBackground\relax\relax
		% no pic background
	\else
		% exist pic background
		\begin{tikzpicture}[overlay,remember picture]
			%\node[opacity=1, at=(current page.center)]{%
			%	\includegraphics[height=\paperheight]{assets/img/background}
			%};
			\node[opacity=\titlepageOpacity, at=(current page.center)]{%
				\includegraphics[height=\paperheight]{\pathToBackground}
			};
		\end{tikzpicture}
	\fi

	\setlength{\unitlength}{1cm}
	\begin{picture}(\pageWidth,\pageHeight)(0,0)
		\put(0,10){%
			\begin{minipage}{0.6\paperwidth}
			\raggedright
			% title
			{\usebeamerfont{title}\textcolor{black}\inserttitle\par~}
			% subtitle
			\ifx\insertsubtitle\empty\else%
				\\[0.01\paperheight]
  				{\usebeamerfont{subtitle}\textcolor{black}\insertsubtitle}
  			\fi
			% authors
			\\[0.02\paperheight]
  			{\usebeamerfont{author}\textcolor{black}\insertauthor}
			% institutes
  			\ifx\insertinstitute\empty\else%
  				\\[0.02\paperheight]
  				{\usebeamerfont{institute}\textcolor{black}\insertinstitute}
  			\fi
			% date
  			\ifx\insertdate\empty\else%
  				\\[0.02\paperheight]
  				\usebeamerfont{date}\textcolor{black}{\insertdate}
  			\fi
			\end{minipage}
		}
	\end{picture}
}

\setbeamertemplate{background}{%
	\setlength{\unitlength}{1cm}
	\ifnum\c@framenumber=1%title page
		\if\pathToBackground\relax\relax
			% no pic background
			\begin{picture}(\pageWidth,\pageHeight)(0,0)
				\put(-0.1, -0.1){%
					\crule[\beamer@Slide@color]{1.1\paperwidth}{1.1\paperheight}
				}
				\put(0.44, 0.1){\pgfuseimage{institution}}
    			\put(20, 13){\pgfuseimage{big-logo}}
    			\put(24.2, 12.6){%
					\rotatebox{-90}{%
						\textcolor{white}{\Large\bf Better health, better futures}}
				}
			\end{picture}
		\else
			% exist pic background
		\fi
		%\empty
		%\begin{picture}(\pageWidth,\pageHeight)(0,0)
		%	\put(-0.1, -0.1){%
		%		\crule[\beamer@Slide@color]{1.1\paperwidth}{1.1\paperheight}
		%	}
    	%	\put(0.44, 0.1){\pgfuseimage{institution}}
    	%	\put(20, 13){\pgfuseimage{big-logo}}
    	%	\put(24.2, 12.6){%
		%		\rotatebox{-90}{%
		%			\textcolor{white}{\Large\bf Better health, better futures}}
		%	}
  		%\end{picture}
	\else%
		\begin{picture}(\pageWidth,\pageHeight)(0,0)
			\put(-0.1,0){\crule[\beamer@Slide@color]{1.1\paperwidth}{0.05\paperheight}}
			\put(0, 0){\pgfuseimage{little-logo}}
   		\end{picture}
   	\fi
}

\setbeamertemplate{frametitle}{%
	\ifnum\c@framenumber=1%
		\empty%
	\else
		\vspace*{\beamer@Slide@titleheight}
	\fi
	\usebeamercolor[fg]{title}%
	\usebeamerfont{title}\textcolor{black}{\insertframetitle}\vspace*{0.01\paperheight}
}

\setbeamertemplate{footline}{%
	\ifnum\c@framenumber=1%
	\else%
    \begin{center}
		\hspace*{0.01\paperwidth}
		\hfill
		\color{white}{\insertshorttitle}
		\hfill
		\color{white}\insertframenumber/\inserttotalframenumber
		\hspace*{0.01\paperwidth}
	\end{center}
	\fi
}

